# 价值驱动交付

### 3.1 价值驱动交付的概念

合理的项目是要保证产生商业价值，病区创造收益或提高服务品质。对于价值的理解，不仅是金钱上的价值，也要理解为提升组织能力的价值。项目的安全性和合规性可以用商业风险和无法承担的影响来理解。价值驱动的交付必须贯穿于整个项目的规划、执行和监控工作中

对敏捷团队来说，当团队面对多个选择是，通常选择会给业务或客户带来更多的价值的选择

#### 先尝到甜头——早期价值交付

敏捷方法推崇尽早交付。这就意味着团队更注重于尽快交付项目当中价值最高的部分。

首先，为了尽可能达到成功，应该更注重于在事请变化或者出现偏差之前，尽快交付高价值的部分。

其次，相关方对项目的满意度成为一个项目成功的关键因素，有形的成果将会提高发起人的信息，并与他们建立融洽的关系，使他们今早接入，创造良性的循环。

**价值驱动交付就是对项目中排列有附加价值的活动与减小风险的活动之间的优先级做抉择，然后按照这个优先级执行**

本章考点

| 实践           | 工具和技术                                                   | 知识和技能（水平）                                           |
| -------------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| 评估价值       | 投资回报率（ROI）<br/>净现值（NPV）<br/>内部收益率<br/>挣值管理 | 敏捷项目核算<br />关键绩效指数（KPI）                        |
| 价值优先级     | 基于客户价值的优先级排序<br />对于优先级排序的调整           | 优先级<br />优先级计划                                       |
| 交付增量       | 最小可行性产品（MVP）<br />敏捷工具<br />    任务/看板<br />    WIP限制<br />    累计流量图 | 增量交付                                                     |
| 敏捷合同       |                                                              | 敏捷约束和合同<br />DSDM合同<br />分级固定价格合同<br />固定价工作包<br />客户化合同 |
| 核实和验证价值 | 频繁的验证和确认<br />在软件开发中进行测试和核实             |                                                              |

#### 3.2 评估价值

商业价值通常是支金融方面的评估。对于商业项目，价值估计通常使用的方法又投资回报率（ROI），内部收益率（IRR），净现值（NPV）.

利用经济模型所得出来的具体数值进行选择可以减少个人的偏见，以及选择过程中的个人感情。

##### 3.2.1 投资回报率

投资回报率（ROI）是指通过投资而应返回的价值，它涵盖了企业的获利目标、利润和投入的经营所必备的财产，因为管理人员必须通过投资和现有财产获得利润，故又称会计收益率、投资利润率

ROI（投资利润率）：利润/投资>0，无需考虑通货膨胀

##### 3.2.2 净现值

NPV（净现值）：由于通货膨胀不同时间发生的等额资金在价值上不相等；按一定的折现率将隔年惊险流量折现到同一时间点的现值累加值，最后得到的值越大越好，>=0是可以接受，<0不能接受
$$
现值=终值/(1+i)^n
$$
i是折现率（通货膨胀率），获取折现到现值的收入

##### 3.2.3 内部收益率

IRR（内部收益率）：项目内部每年的净收益率，每年的增长净收益率需要和行业收益率（通货膨胀率）进行作比较

##### 3.2.4 挣值管理

挣值既能反应**成本**又能反应**进度**。挣值管理包括：计划价值（PV）、整得价值（EV）、进度偏差（SV）、承办偏差（CV）、进度绩效指数（SPI）、成本绩效指数（CPI）

敏捷中的挣值管理与传统项目的挣值管理表格不同

敏捷中挣值图，有两个纵轴，左边的纵轴是范围（故事点），右边的纵轴是成本（花费），传统政治图只有一条S曲线，在敏捷挣值图中，是双S曲线，一条监控进度，一条监控成本

##### 3.2.5 敏捷项目核算

敏捷核算指的是敏捷项目中的经济模型。

在敏捷中大力倡导的一种模型是最小可行产品（MVP），最开始的时候只是为客户提供最基本的功能。

##### 3.2.6 关键绩效指数

1. 进展率
2. 剩下的工作
3. 可能完成的日期
4. 可能完成时需要的成本

#### 3.3 价值优先级

优先级是敏捷流程的基础。敏捷团队通常使用优先级的方法来确认他们正在交付的价值。在每一个迭代结束的时候，团队和客户重新评审待开发项，来确定下一个迭代需要改变的事请，以及下一个迭代应该做哪些需求。在两个迭代之间，可以重新对优先级进行排序，并在下一个迭代中规划相关的工作。

##### 3.3.1 基于客户价值的优先级排序

基于客户价值的优先级排序更加关注尽快地为客户产生最高价值的工作。

选择优先级的方案

1. 简单的方案

   按照优先级从高到低进行排序，完全基于主观经验

2. MoSCoW优先级方案

   Must：必须做的，系统的基础

   Should：应该做的，有这些特性，才能正常工作

   Could：可以做的，可以提高体验的

   Would Not：不要做的，肯定没有的功能

3. 虚拟钱币

   给发起人一些虚拟的钱币，然后通过货币去购买特性，等购买完成后，根据每个特性获得的钱币多少，进行优先级排序

4. 100点方法。

   每个相关方获得100点，可以用投票的方式给到最重要的需求。

5. Kano分析

   Kano模型的3个层次的客户需求：基本型需求、期望型需求和兴奋型需求。

   1. 基本型需求：顾客认为产品“必须有”的属性和功能，当特性不充足是，顾客会很不满意，当其特性重组是，客户充其量是满足
   2. 期望型需求：要求提供的产品或服务比较优秀，但并不是必须的产品属性，有些期望型需求连客户都不知道，但却是他们希望得到的，期望型需求又叫线性需求，这类需求越多越好。当没有满足这些需求是，客户也会不满意
   3. 兴奋型需求。提供给顾客一些完全出乎意料的产品属性，使顾客产生惊喜。当特性不充足和没有的时候，客户也无所谓，当产品提供了这类特性使，客户会对产品非常满意，提高顾客的忠诚度，这类需求可以为产品增加额外价格

   通过以上分析，对着三类需求又分别要求

   1. 对于必须完成的功能，在产品发布时需要完成，但并不是要求在第一次冲刺时就开发完成
   2. 完成尽可能多的线性需求
   3. 如果实践允许，至少应该确定少量的兴奋点优先级，把它们包含在发布计划中

##### 3.3.2 相对优先级或排序

相对优先级列表就是一个简单的列表，从上到下的顺序依次时高、中、低。

当增加新的特性时，可以和现有列表的特性进行比较，并为其设定优先级。

#### 3.4 交付增量

增量交付时优化交付价值的另外一种敏捷的方法。团队在项目进行过程中定期部署产品的增量。软件开发团队通常会将软件部署在测试环境中进行待评估，如果团队认为这个增量对业务时又价值的，可以将功能直接集成到生产环境中。

##### 3.4.1 最小可行性产品

##### 3.4.2 敏捷工具

敏捷宣言中：个体交互高于过程和工具。敏捷团队更喜欢低技术高感知的工具。

1. 任务板和看板

   目的时规划和监控工作的进展任务板会有角色，会有规定的时间限制，在迭代期间时拒绝增加任何任务的，而看板时可以根据自己的生产能力选择添加任务的。任务板中的任务时需要进行估算的，并需要团队成员对其任务进行承诺，而看板没有估算，也不会做承诺。任务板比较适合开发团队，看板比较适合运维团队。两者的共同点时：首先都是WIP限制，其次都是分阶段进行

2. 在制品和在制品限制

   WIP与许多问题都密切相关：

   1. 直到项目转变成为一个可接受的产品前，WIP消耗着投资则的资本并且没有任何交付反馈。
   2. WIP降低了整体工作流的速度（或生产率），同事掩盖了效率问题，从而吟唱了过程中许多瓶颈
   3. WIP一定程度上存在反攻风险，他们可能不停地变更事物直到这个事物被接受

   敏捷中的做法时主要关注WIP的限制。WIP限制的目标时优化工作的生产效率，不是优化资源利用。可以基于WIP序列的大小来预测实践

3. 累积流量图

   累积流量图（CFD）是跟踪和预测敏捷项目的很有价值的工具。CFD可以帮助了解项目的问题、循环时间、可能的完成时间。

   累积流量图的形成通常是由看板中任务的流动绘制而成的。左边的斜线是累积已经开始的价值想（如用户需求）数目，有便斜线是累积完成价值项的数目两条斜线的垂直距离表示某个时刻已经开始但还没有完成的价值项目，也就是在制品的总计数量。两条斜线的水平间距标识价值项从开始到完成的周期时间，也就是从概念到交付的响应时间，它是价值流动效率的一个重要衡量。斜线的斜率反应的是价值交付的速率，也就是每周可以交付的价值项数量。

4. 利特尔定律

   在精益生产系统中，循环时间是个非常重要的指标，它可以与之当前的在制品什么时候可以完成。WIP和循环时间越低越好，因为他们代表了沉没成本，沉没成本是尚未拿到的收益。项目中，如果WIP越多、循环时间越长，意味着当遇到问题的时候，潜在的浪费越多。

#### 3.5 敏捷合同

1. 费用变更合同

   “免费和你变更的费用”，在标准的古丁总价合同开始，插入“变更费用”的选项条款

2. 分级固定总价合同

   双方分享一些与进度偏差相关的风险奖励。使用不同的费率，对按时或延迟交货的情况进行评定。

   按照这种合同，如果供应商能够提前完工，则按照更高的费率支付费用，如果按时完成，则按照事先达成的费率支付；如果推迟完成，则按照地低费率进行支付

3. 固定价工作包

   为每一个工作包建立固定的价格，固定价合同转移了高估或低估了范围和成本的风险。分解工作说明书为独立的工作包，使工作包都是固定的价格。

   有点：允许客户基于现有成本对剩余的工作重新安排优先级，如果出现一些新的详细细节，也允许供应商更新自己的成本。

#### 3.6 供应商管理

供应商管理更加关注的是组织外面的相关方管理，将他们包含进项目是因为他们也在为项目提供产品或服务。作为内部的相关方，应该更加关注对供应商的选择和如何告诉他们在敏捷的环境中进行工作。

如果供应商需要以敏捷的方法参与项目中，则对于他们的要求会写在请求建议书（RFP）中

#### 3.7 核实和验证价值

创建一个完全得到发起人和商业用户确认的重要的产品和服务，用于项目的敏捷方法经常是不确定的。

##### 频繁的验证和确认

敏捷技术的核心是尽可能快地解决发现的问题，以免使问题变得越来越大以致难以解决。在问题变得更大之前，敏捷使用常规的测试、检查点和评审等技术来解决。

XP的软件开发项目中验证和确认环的例子。

1. 结对编程拥有最短的反馈周期。
2. XP开发人员每隔几分钟使用单元测试来验证代码以达成渴望结果。
3. 在下一个层级，将和客户进行频繁的协作
4. 在他们的每日站会，团队可以确认谁什么时候都做了什么工作
5. 每隔几周时间，团队会举办迭代评审会议为客户展示完成的功能
6. 每隔几个人的时间进行一次发布，客户评审可交付物以验证“完成”，并且准备发布

##### 在软件开发中的测试和验证

1. 探索性测试

   探索性测试的核心思想：测试时一个不断学习、不断探索的创造性过程。测试计划、分析、设计、执行其实是相辅相成、互相交织的

2. 可用性测试

   让一群具有代表性的用户对产品进行典型操作，同事观察员和开发人员在一旁观察、聆听、做记录。可用性又5个指标，分别时易学性、易记性、容错性、交互效率和用户满意度。

   1. 确定测试产品的可用性水平
   2. 与预期目标、竞争对手、老版设计相比的可用性水平
   3. 比较不同方案，确定哪个方案更加可行
   4. 现测试产品的可用性问题

##### 持续集成

持续集成是一种软件开发过程

持续集成的步骤：

1. 持续集成服务器不断从版本控制服务器上检查代码状态，看代码是否有更新
2. 如果发现代码有最新的提交，那么就从版本控制服务器下载最新的代码
3. 等代码完全更新以后，调用自动化编译脚本，进行代码编译
4. 运行所有的自动化测试
5. 进行代码分析
6. 产生可执行的软件，能够提供给测试人员进行测试

##### 测试驱动开发

1. 快速新增一个测试
2. 运行所有的测试，发现新增的测试不能通过
3. 做一些小小的改动，尽快让测试程序可运行，为此可以在程序中使用一些不合情理的方法
4. 运行所有的测试，并且全部通过
5. 重构代码，以消除重复设计，优化设计结构

TDD的优势：

1. TDD根据客户需求编写测试用例
2. 出于易测试和测试独立性的要求，将促使我们实现松耦合的设计，并更多地依赖于接口而非具体的类，提高系统的可扩展性和抗变性。
3. 将测试工作提到编码之前，并频繁地运行所有测试，可以尽量避免和尽早发现错误，极大地降低了后续测试及修复的成本，提高了代码的质量
4. TDD提供了持续的回归测试，可以重构代码，因为代码的改动导致系统其他部分产生任何已成，测试都会立刻进行通知。
5. TDD所产生的单元测试代码就是最晚们的开发者文档。
6. TDD可以减轻压力、降低忧虑，提高团队对代码的信心及对代码重构的勇气，这些都是快乐工作的重要前提。
7. 快速提高了开发效率

##### 验收测试驱动开发

验收测试驱动开发（ATDD）这种技术使测试的焦点从代码本身转向业务需求。

通常，当开发人员从待开发项中抽取用户故事并于商业代表讨论其被期望的行为时，会捕获那些测试。

整个过程会经历4个阶段——讨论、提炼、开发、演示

1. 讨论需求。在计划会议期间，会向产品负责人或客户询问一些用来收集验收标准的问题
2. 以框架友好的兴时提炼测试。
3. 开发代码并链接测试
4. 演示。团队使用自动化验收测试脚本来进行探索性的测试，并演示软件

